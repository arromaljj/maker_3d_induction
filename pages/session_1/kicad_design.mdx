---
title: 'Designing the USB-Powered Circuit in KiCad'
date: '2024-09-25'
---

import { Callout } from 'nextra/components'
import { Steps } from 'nextra/components'
import Image from 'next/image'

# Designing the USB-Powered Circuit in KiCad

Now that we're familiar with KiCad and our circuit theory, let's dive into designing our USB-powered Tiny Arcade Game circuit. We'll use KiCad's Schematic Editor (Eeschema) to create a schematic based on the circuit theory we've discussed.

## Setting Up the Project

<Steps>
### Open KiCad
Launch KiCad from your applications menu or desktop shortcut.

### Create a New Project
1. Click on "File" > "New" > "Project"
2. Choose a location for your project and name it "TinyArcadeGame"
3. Click "Create"

### Open Schematic Editor
In the KiCad project manager, double-click on "TinyArcadeGame.kicad_sch" to open the Schematic Editor.
</Steps>

## Adding Custom Symbols and Footprints

Before we start adding components, we need to import some custom symbols and footprints for our specialized components.

<Steps>
### Import Custom Symbols
1. Go to "Preferences" > "Manage Symbol Libraries"
2. Click "Add existing library"
3. Browse for your custom .lib files (e.g., USB connector symbol)
4. Select the file and click "Open"
5. Give the library a nickname (e.g., "TinyArcadeCustom")
6. Click "OK" to close the dialog

### Import Custom Footprints
1. Go to "Preferences" > "Manage Footprint Libraries"
2. Click "Add existing library"
3. Browse for your custom .pretty folder or individual .kicad_mod files
4. Select the folder or files and click "Open"
5. Give the library a nickname (e.g., "TinyArcadeCustomFootprints")
6. Click "OK" to close the dialog
</Steps>

<Callout type="info">
  Ensure you have the necessary custom symbol and footprint files for components like the USB connector before starting your design.
</Callout>

## Adding Components

Now, let's add the components we need for our USB-powered circuit.

<Steps>
### Add ATtiny85
1. Press 'A' to open the "Add Symbol" menu
2. Search for "ATtiny85" and select it
3. Place the component on your schematic

### Add USB Connector
1. Press 'A' to open the "Add Symbol" menu
2. Search for your custom USB connector symbol (e.g., "USB_B_Micro")
3. Place the component on your schematic

### Add Voltage Regulator (if needed)
1. Press 'A' to add a component
2. Search for a suitable 5V to 3.3V regulator (e.g., "AMS1117-3.3")
3. Place it on your schematic

### Add Push Buttons
1. Press 'A' to add a component
2. Search for "SW_Push" and select it
3. Place three of these on your schematic

### Add OLED Display
1. Press 'A' to add a component
2. Search for a suitable 4-pin connector symbol
3. Place it on your schematic

### Add Piezo Buzzer
1. Press 'A' to add a component
2. Search for "Speaker" or "Buzzer" and select a suitable component
3. Place it on your schematic

### Add Resistors and Capacitors
1. Add the required resistors (1kΩ, 6.8kΩ, etc.) and capacitors (0.1μF, 10μF)
2. Label them according to their values

### Add Power Symbols
1. Add VCC and GND symbols where needed
</Steps>

## Connecting Components

Now that we have all our components placed, let's connect them according to our USB-powered circuit design.

<Steps>
### Connect USB Power
1. Connect the USB VCC to the voltage regulator input (if using one)
2. Connect the regulated 3.3V output to the ATtiny85 VCC
3. Connect USB GND to the circuit ground

### Connect ATtiny85
1. Connect VCC and GND
2. Connect PB0, PB2, and PB5 to the push buttons
3. Connect PB1 to the piezo buzzer
4. Connect PB3 and PB4 to the OLED display connector

### Connect Push Buttons
1. Connect each button to its respective ATtiny85 pin
2. Add and connect pull-up resistors as specified in the circuit theory

### Connect OLED Display
1. Connect VCC and GND
2. Connect SCL and SDA to PB3 and PB4 of the ATtiny85

### Connect Piezo Buzzer
1. Connect one terminal to PB1 on the ATtiny85
2. Connect the other terminal to GND

### Add Decoupling Capacitors
1. Place 0.1μF capacitors near the VCC pins of the ATtiny85 and OLED display
2. Connect them between VCC and GND
</Steps>

{/* <Image src="/images/tiny-arcade-usb-schematic.png" alt="USB-Powered Tiny Arcade Game Schematic" width={800} height={600} /> */}

## Annotating and Checking

<Steps>
### Annotate Schematic
1. Use the "Annotate Schematic Symbols" tool to automatically number your components
2. Double-check that all components are properly labeled

### Perform Electrical Rules Check (ERC)
1. Run the Electrical Rules Check to catch any potential issues
2. Review and address any warnings or errors

### Add Notes and Documentation
1. Use text annotations to explain key parts of the circuit, especially the USB power connection
2. Fill in the title block with project details
</Steps>

## Next Steps

Congratulations! You've now created the schematic for your USB-powered Tiny Arcade Game in KiCad. In the next section, we'll move on to creating the PCB layout based on this schematic.

Are you ready to turn this schematic into a real PCB design? Let's move on to the PCB Editor!